<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Indrive AI Backend</title>
<style>
  body { font-family: Arial; margin: 30px; }
  .section { margin-bottom: 20px; }
  #result { margin-top: 10px; background: #f4f4f4; padding: 10px; }
</style>
</head>
<body>
<h1>Indrive AI - YOLO Detection</h1>

<div class="section">
  <h2>Загрузить изображение</h2>
  <input type="file" id="image_input"/>
  <button onclick="uploadImage()">Обработать</button>
  <pre id="result"></pre>
</div>

<script>
async function uploadImage() {
    const input = document.getElementById('image_input');
    if (input.files.length === 0) {
        alert("Выберите изображение!");
        return;
    }

    const formData = new FormData();
    formData.append('image', input.files[0]);

    const res = await fetch('/detect', {
        method: 'POST',
        body: formData
    });

    const data = await res.json();
    document.getElementById('result').textContent = JSON.stringify(data.result, null, 2);
}
</script>

</body>
</html>
